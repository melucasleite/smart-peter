/*!
 * js-jquery-render
 * -------------
 * Simple template method for jQuery
 *
 * @version 1.1.0
 * @license MIT
 * @author mach3 <http://github.com/mach3>
 * @require jquery#1
 */
!(function(a, b) {
  a.fn.extend({
    render: function(c, d) {
      var e, f, g;
      return (
        (e = this.html()),
        (f = ""),
        (g = function(c, d) {
          var e = c.match(/\[\[(.+?)\]\]/g) || [],
            f = c;
          return (
            a.each(e, function(a, c) {
              var e = d[c.replace(/\[|\]/g, "")];
              f = f.replace(c, e === b ? "" : e);
            }),
            f
          );
        }),
        (c = c === b ? {} : c),
        (d = d === b ? !0 : !1),
        c instanceof Array || (c = [c]),
        a.each(c, function(a, b) {
          f += g(e, b);
        }),
        d
          ? a("<div>")
              .html(f)
              .children()
          : f
      );
    }
  });
})(jQuery);
// form values()
$.fn.values = function(data) {
  var inps = $(this)
    .find(":input")
    .get();

  if (typeof data != "object") {
    // return all data
    data = {};

    $.each(inps, function() {
      if (
        this.name &&
        (this.checked ||
          /select|textarea/i.test(this.nodeName) ||
          /text|hidden|password/i.test(this.type))
      ) {
        data[this.name] = $(this).val();
      }
    });
    return data;
  } else {
    $.each(inps, function() {
      if (this.name && data[this.name]) {
        if (this.type == "checkbox" || this.type == "radio") {
          $(this).prop("checked", data[this.name] == $(this).val());
        } else {
          $(this).val(data[this.name]);
        }
      } else if (this.type == "checkbox") {
        $(this).prop("checked", false);
      }
    });
    return $(this);
  }
};
// String.format
if (!String.prototype.format) {
  String.prototype.format = function() {
    var args = arguments;
    return this.replace(/{(\d+)}/g, function(match, number) {
      return typeof args[number] != "undefined" ? args[number] : match;
    });
  };
}
